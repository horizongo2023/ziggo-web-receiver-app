<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="css/style.css" media="screen" />
  <script src="//www.gstatic.com/cast/sdk/libs/caf_receiver/v3/cast_receiver_framework.js"></script>

</head>

<body>
  <cast-media-player></cast-media-player>
  <footer>
    <script>
      try{
        const context = cast.framework.CastReceiverContext.getInstance();
      const playerManager = context.getPlayerManager();
      playerManager.addEventListener(
        cast.framework.events.EventType.MEDIA_STATUS, (event) => {
          console.log(event);
        });
        /// player state event listner....
        playerManager.addEventListener(
          cast.framework.event.EventType.PLAYER_STATE_CHANGED,
          function(event){
            switch(event.PlayerState){
              case cast.framework.messages.PlayerState.BUFFERING:
              ///Media Buffering
               break;
               case cast.framework.messages.PlayerState.PLAYING:
                /// Media Playing
                break;
                case cast.framework.messages.PlayerState.PAUSED:
                  break;

            } 
          }
        );
        context.start();
      }catch(e){
          console.log(e);
      }
    </script>
  </footer>
</body>

</html>